Ideas:

* make commands with \ rather than *?
  Joe and \emph{Sue} went to town.

* two kinds of groups:
  {regular group !parsed{inside}}

  {|literal group !not parsed inside|}
  {-|alternative|-}
  {--|alternative|--}

* commands need to be of the form:
  emph :: Builder -> HeX Builder
  or
  emph' :: Maybe Int -> Builder -> HeX Builder
  for a command with options
  or
  frac :: Builder -> Builder -> HeX Builder
  for a command with two arguments.

  Then make them into commands using:
  command "emph" emph
  or maybe just
  command emph
  if we can snarf the name

  This is needed if we are to recombine them in other
  commands.

* math mode
  should store math mode in state.
  then certain commands can be marked ensureMath
  and they will trigger math mode if it isn't already

* add parsers for $..$, $$..$$
  maybe these are just equiv to
  *math{|..|}
  *displaymath{|..|}

* environments:
  *quote{
  blah blah
  }

  the quote command will strip off the initial newline.

* escapes:
  \x for any x is a literal x
  \\ is a literal backslash
  escape NEEDED for {}*|\

* Writeup on motivations:

  good things about pandoc:
  - canonical document that can go into many formats
  bad things:
  - no extensibility
  - no macros
  good things about latex;
  - extensibility through macros
  - no limitations
  bad things about latex:
  - ugly language to program in, difficult to write macros

